<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <link rel="stylesheet" href="/css/style.css">
    <title>[ĐẶT SÂN] Danh sách sân bóng đá</title>
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicons -->
    <link href="/img/logo.jpg" rel="icon">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
          integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Roboto:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
          rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="vendor/aos/aos.css" rel="stylesheet">
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link href="/css/style.css" rel="stylesheet">
    <link href="/css/findpitch.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/style.css}"/>
    <!--Bootstrap-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>


</head>

<body>
<!-- ======= Header ======= -->
<header id="header" th:insert="header.html"></header>
<!-- End Header -->

<!-- ======= Hero Section ======= -->
<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img class="d-block w-100" style="height: 25rem" src="/img/slidebar.jpg" alt="First slide">
        </div>
        <div class="carousel-item">
            <img class="d-block w-100" style="height: 25rem" src="/img/slidebar2.jpg" alt="Second slide">
        </div>
        <div class="carousel-item">
            <img class="d-block w-100" style="height: 25rem" src="/img/slidebar.jpg" alt="Third slide">
        </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>
<main id="main">
    <!-- ======= Services Section ======= -->
    <section id="services" class="services">
        <div class="container-fluid w-75 px-5 " data-aos="fade-up">
            <div class="section-title pb-1 px-4 py-4 bg-white rounded" style="box-shadow: #969ea633 0px 0px 24px;">
                <input type="hidden" id="maxPage" th:value="${maxPage}">
                <form id="search-form" class="row mx-auto" th:action="@{/loadFind}" method="get">
                    <div class="col-12 col-sm-8 col-md-8 col-lg-8 col-xl-8 ">
                        <div class="input-group row">
                            <!--                            <div class="dropdown col-3 p-0 mr-2">-->
                            <!--                                <input id="province" name="province" hidden>-->
                            <!--                                <input id="dropdown-province"-->
                            <!--                                       class="form-select form-select-lg rounded-0 text-dark text-left text-nowrap"-->
                            <!--                                       th:value="|${province == null ? 'Tỉnh/Thành phố' : province}|">-->
                            <!--                                <ul class="dropdown-menu w-100" onclick="this.style.display = 'none'">-->
                            <!--                                    <li><a class="d-block py-2 px-3"-->
                            <!--                                           onclick="$('#dropdown-province').val(this.textContent)">Hà Nội</a></li>-->
                            <!--                                </ul>-->
                            <!--                            </div>-->
                            <div class="dropdown col-4 p-0 mr-2">
                                <input id="dropdown-district"
                                       th:district-id-data="${district}"
                                       class="form-select form-select-lg rounded-0 text-dark text-left text-nowrap"
                                       th:value="${districtName}" readonly>
                                <ul class="dropdown-menu w-100" onclick="this.style.display = 'none'">
                                    <li th:each="district: ${listDistrict}">
                                        <a class="d-block py-2 px-3"
                                           th:distric-id="${district.id}"
                                           th:text="${district.name}">
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <div class="dropdown col-4 p-0 mr-2">
                                <input id="dropdown-sortprice"
                                       class="form-select form-select-lg rounded-0 text-dark text-left text-nowrap"
                                       th:order-data="${order}" readonly>
                                <ul class="dropdown-menu w-100" onclick="this.style.display = 'none'">
                                    <li><a class="d-block py-2 px-3" order-data="asc">Giá: Thấp đến cao</a></li>
                                    <li><a class="d-block py-2 px-3" order-data="desc">Giá: Cao đến thấp</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-sm-4 col-md-4 col-lg-4 col-xl-4 p-0 d-flex justify-content-end">
                        <div class="input-group">
                            <input id="search-history" th:value="${history}"
                                   th:search-data="${history == null ? 'null' : history}"
                                   type="text"
                                   maxlength="50"
                                   name="search"
                                   class="form-control  form-control-lg"
                                   placeholder="Nhập tên sân..." aria-label="Search"
                                   aria-describedby="search-addon"
                                   onblur="this.value = this.value.trim()"
                            />
                            <button type="submit" onclick="$('#search-form')[0].submit()"
                                    class="btn btn-outline-primary mx-0">Tìm sân<i class='fas fa-search ml-2'></i>
                            </button>
                        </div>
                    </div>
                </form>
            </div>
            <hr style="border: 0.5px solid #f9f9f9"/>
            <!-- ======= Pricing Section ======= -->
            <section id="pricing" class="pricing mb-5 py-3 px-4">
                <div data-aos="fade-up">
                    <p class="text-secondary text-center font-italic mt-4 opacity-75 h4" th:text="${session.isEmpty}" th:unless="${session == null}">[...]</p>
                    <div id="listYard" class="row g-3">
                        <div class="yard-container col-md-6 col-lg-3 px-3 mb-5 mb-sm-3 mb-lg-3"
                             th:each="ownPitchListOk : ${searchListOwnPitch}">
                            <div class="card w-100">
                                <img class="card-img-top" style="width: 100%; height: 200px; object-fit: cover;"
                                     th:src="|@{upload/}${ownPitchListOk.img1}|" alt="Card image cap">
                                <div class="card-body">
                                    <h5 class="card-title yardName" th:text="${ownPitchListOk.getNamePitch()}"></h5>
                                    <div id="rate" class="d-flex flex-row mb-2">
                                        <div th:each="rate : ${#numbers.sequence(1, 5)}">
                                            <i class="fa fa-star text-warning"
                                               th:if="${rate <= ownPitchListOk.getAvgRate()}"></i>
                                            <i class="fa fa-star-half-alt text-warning"
                                               th:if="${ownPitchListOk.getAvgRate() > rate -1 && ownPitchListOk.getAvgRate() < rate}"></i>
                                            <i class="far fa-star text-secondary"
                                               th:if="${(ownPitchListOk.getAvgRate() > rate -1 && ownPitchListOk.getAvgRate() < rate) ? ownPitchListOk.getAvgRate() < rate - 1 : ownPitchListOk.getAvgRate() < rate}"></i>
                                        </div>
                                    </div>
                                    <p id="district-name" class="card-text "
                                       th:text="${ownPitchListOk.district.name}"></p>
                                    <p style="font-size: 16px">Giá:
                                        <span class="font-weight-bold" style="color: #ee4d2d"
                                              th:text="${ownPitchListOk.getMinPrice() +' - '+  ownPitchListOk.getMaxPrice()}"></span>
                                    </p>
                                    <script>
                                        (function () {
                                            var seperator = " - ";
                                            var moneyFull = $('.yard-container').last().find('span').last().text();
                                            var moneyArr = moneyFull.split(seperator);
                                            for (let i = 0; i < moneyArr.length; i++) {
                                                var moneyStr = moneyArr[i].toString();
                                                var result = "";
                                                var count = 0;
                                                for (let i = moneyStr.length - 1; i >= 0; --i) {
                                                    if (count >= 3) {
                                                        count = 0;
                                                        result = "." + result;
                                                    }
                                                    result = moneyStr[i] + result;
                                                    ++count;
                                                }
                                                moneyArr[i] = result + "₫";
                                            }
                                            $('.yard-container').last().find('span').last().text(moneyArr.join(seperator));
                                        })();
                                    </script>
                                    <a th:href="|/showDetail?id=${ownPitchListOk.id}|"
                                       class="btn btn-secondary btn-lg btn-block btn-custom"
                                       style="background:#ffc107"><span>Xem sân</span><i
                                            class="fa fa-angle-double-right pl-2"></i></a>
                                </div>
                            </div>
                        </div>

                    </div>
                    <!--                        Pagination-->
                    <nav id="pagingation-container" style="display: none">
                        <ul id="pagination" class="justify-content-end">
                        </ul>
                    </nav>
                    <!--                        End Pagination-->
                </div>
            </section><!-- End Pricing Section -->

            <!-- ======= Contact Section ======= -->
            <!-- End Contact Section -->
        </div>
    </section>
</main><!-- End #main -->
<footer id="footer" th:insert="footer.html"></footer>
<!-- End Footer -->

<div id="preloader"></div>
<a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
        class="bi bi-arrow-up-short"></i></a>
<!-- Vendor JS Files -->
<script src="vendor/purecounter/purecounter.js"></script>
<script src="vendor/aos/aos.js"></script>
<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="vendor/glightbox/js/glightbox.min.js"></script>
<script src="vendor/isotope-layout/isotope.pkgd.min.js"></script>
<script src="vendor/swiper/swiper-bundle.min.js"></script>
<script src="vendor/waypoints/noframework.waypoints.js"></script>
<script src="vendor/php-email-form/validate.js"></script>

<!-- Template Main JS File -->
<script src="/js/main.js"></script>


<!-- Javascript -->
<script src="/js/jquery-3.3.1.min.js"></script>
<script src="/js/jquery-migrate-3.0.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
<script src="/js/jquery.backstretch.min.js"></script>
<script src="/js/wow.min.js"></script>
<script src="/js/jquery.waypoints.min.js"></script>
<script src="/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="/js/findPitch.js"></script>
<script src="/js/paging.js"></script>
<script src="/js/scripts.js"></script>
<script>
    loadPagination("/loadFind");
    $(document).ready(function () {
        $('#services .dropdown').hover(function () {
            $(this).find('.dropdown-menu').first().stop(true, true).slideDown(150);
        }, function () {
            $(this).find('.dropdown-menu').first().stop(true, true).slideUp(105)
        });
    });


</script>
</body>
</html>